---
name: Implement Clamp Builder Functions
status: open
created: 2025-09-08T20:13:52Z
updated: 2025-09-08T20:26:58Z
github: https://github.com/FackJox/wibblywobblaz/issues/21
depends_on: [20]
parallel: false
conflicts_with: []
---

# Task: Implement Clamp Builder Functions

## Description
Create utility functions for generating CSS clamp() values and custom properties. This includes the core clampBuilder function for fluid typography and spacing calculations, plus helper functions for CSS property generation and validation.

## Acceptance Criteria
- [ ] Create /lib/utopia-helpers.ts file
- [ ] Implement clampBuilder function that generates CSS clamp() strings
- [ ] Add generateCSSProperties function for custom property generation
- [ ] Include validation helpers for scale values and viewport ranges
- [ ] Add utility functions for converting between units (rem, px, etc.)
- [ ] All functions properly typed with TypeScript
- [ ] Comprehensive JSDoc documentation for all exported functions
- [ ] Input validation with meaningful error messages

## Technical Details
Core functions to implement:
- `clampBuilder(minValue, maxValue, minViewport, maxViewport)` - generates clamp() CSS
- `generateCSSProperties(config)` - creates CSS custom property objects
- `validateScale(scale)` - validates scale configuration
- `validateViewport(viewport)` - validates viewport configuration
- `pxToRem(px, baseFontSize)` - unit conversion utility
- `remToPx(rem, baseFontSize)` - unit conversion utility

Use functional programming patterns and ensure all functions are pure with no side effects.

## Dependencies
- [ ] Task 20: Create Utopia Configuration Structure

## Effort Estimate
- Size: M
- Hours: 3
- Parallel: false

## Definition of Done
- [ ] Code implemented with full TypeScript typing
- [ ] All functions tested with various inputs
- [ ] Validation functions provide clear error messages
- [ ] JSDoc comments added for all exported functions
- [ ] No TypeScript errors or warnings
- [ ] Functions handle edge cases gracefully
